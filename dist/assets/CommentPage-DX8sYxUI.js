import{r as l,u as h,j as e}from"./index-h_fRO0Hs.js";import{C as p,S as g}from"./HappyBear-Cat-J2h_.js";import{U as d}from"./user-BLS5Bije.js";const b=({isVisible:x,onClose:c,commentList:t,sendComment:m})=>{const[n,a]=l.useState(""),{userId:f}=h(),r=l.useRef(null),i=()=>{if(!n)return;const s=n.trim();m(s),a("")};l.useEffect(()=>{r.current&&r.current.scrollIntoView({behavior:"smooth"})},[t]);const u=s=>{s.key=="Enter"&&(s.preventDefault(),i())};return e.jsxs("div",{className:`w-[350px] h-[550px] rounded-2xl border border-gray-200 shadow-xl bg-white font-Outfit transition-all ease-in-out duration-500 flex flex-col ${x?"opacity-100 -translate-y-5":"opacity-0 translate-y-0 pointer-events-none"}`,children:[e.jsxs("div",{className:"w-full flex justify-between items-center px-5 pt-4 pb-2 border-b border-gray-100",children:[e.jsx("h1",{className:"font-Montserrat font-bold text-base text-gray-800",children:"Comment Section"}),e.jsx(p,{className:"cursor-pointer text-gray-400 hover:text-indigo-400 transition",onClick:c})]}),e.jsxs("div",{className:"flex-1 w-full flex flex-col gap-3 px-4 py-3 overflow-auto",children:[t&&t.length>0?t.map((s,o)=>s.userId!==f?e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsx("div",{className:"h-7 w-7 flex justify-center items-center bg-indigo-100 text-indigo-500 rounded-full shadow-inner",children:e.jsx(d,{size:16})}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx("span",{className:"pl-2 text-[11px] text-gray-500",children:s.userName}),e.jsx("div",{className:"max-w-[80%] px-3 py-2 bg-indigo-50 text-gray-800 rounded-2xl text-xs shadow-sm",children:e.jsx("span",{children:s.message})})]})]},s.timestamp+"-"+o):e.jsxs("div",{className:"flex items-end gap-2 justify-end",children:[e.jsxs("div",{className:"flex-1 flex flex-col items-end",children:[e.jsx("span",{className:"pr-2 text-[11px] text-gray-500",children:"Me"}),e.jsx("div",{className:"max-w-[80%] px-3 py-2 bg-indigo-400 text-white rounded-2xl text-xs shadow-sm",children:e.jsx("span",{children:s.message})})]}),e.jsx("div",{className:"h-7 w-7 flex justify-center items-center bg-indigo-400 text-white rounded-full shadow-inner",children:e.jsx(d,{size:16})})]},s.timestamp+"-"+o)):e.jsx("div",{className:"w-full h-full flex flex-col justify-center items-center gap-3",children:e.jsx("div",{className:"text-gray-400",children:"No comments yet"})}),e.jsx("div",{ref:r})]}),e.jsxs("div",{className:"w-full px-4 py-3 border-t border-gray-100 flex gap-2 items-center bg-white",children:[e.jsx("input",{value:n,onChange:s=>a(s.target.value),type:"text",className:"h-8 w-full border border-gray-200 rounded-xl text-black text-sm pl-3 outline-none focus:border-indigo-300 transition",placeholder:"Type your message...",onKeyDown:u}),e.jsx("button",{className:"rounded-full cursor-pointer p-2 bg-indigo-400 hover:bg-indigo-500 transition text-white flex items-center justify-center shadow",title:"Send",onClick:i,children:e.jsx(g,{size:16})})]})]})};export{b as C};
