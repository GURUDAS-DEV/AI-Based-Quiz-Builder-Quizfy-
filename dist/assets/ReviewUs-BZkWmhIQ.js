import{r,u as j,a as w,j as e}from"./index-h_fRO0Hs.js";import{L as N,y as i}from"./index-C_QhN8Qu.js";import{c as l}from"./createLucideIcon-BdoxpPWD.js";const k=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M7 11h10",key:"1twpyw"}],["path",{d:"M7 15h6",key:"d9of3u"}],["path",{d:"M7 7h8",key:"af5zfr"}]],h=l("message-square-text",k);const S=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],C=l("star",S);const z=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],R=l("user-round",z);function E(){const[c,m]=r.useState(""),[d,u]=r.useState(""),[o,x]=r.useState(0),[f,g]=r.useState(null),{userId:p}=j(),b=w(),y=async s=>{s.preventDefault();const a=c.trim(),t=d.trim();if(!a||!t||o===0||o>5){i.warn("Please fill all fields and give a rating between 1 and 5.",{position:"top-center",autoClose:2e3});return}console.log(o);try{const n=await fetch("https://quizidy-backend.duckdns.org/other/giveReview",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:p,userName:a,comment:t,rating:o})}),v=await n.json();console.log("Review submission response:",v),n.ok?(i.success("âœ… Review submitted successfully!",{position:"top-center",autoClose:2e3,theme:"light"}),setTimeout(()=>b("/"),2200)):i.error("Failed to submit review. Try again later.",{position:"top-center",autoClose:2e3})}catch(n){console.error("Error submitting review:",n),i.error("Something went wrong. Please try again.",{position:"top-center",autoClose:2e3})}m(""),u(""),x(0)};return e.jsxs("div",{className:"min-h-screen bg-gray-50 font-[Outfit] flex justify-center items-center px-4",children:[e.jsx(N,{}),e.jsxs("div",{className:"bg-white shadow-lg border border-gray-100 rounded-2xl p-8 w-full max-w-lg",children:[e.jsxs("div",{className:"flex flex-col items-center text-center mb-8",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-indigo-50 mb-3",children:e.jsx(h,{className:"text-indigo-500",size:26})}),e.jsx("h1",{className:"text-3xl font-semibold text-gray-700",children:"Share Your Review"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"We'd love to hear your thoughts and feedback."})]}),e.jsxs("form",{onSubmit:y,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-gray-600 text-sm font-medium mb-1 block",children:[e.jsx(R,{size:16,className:"inline-block mr-2 text-indigo-500 mb-0.5"}),"Your Name"]}),e.jsx("input",{type:"text",placeholder:"Enter your name",value:c,onChange:s=>m(s.target.value),className:"w-full p-3 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 transition"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-gray-600 text-sm font-medium mb-1 block",children:[e.jsx(h,{size:16,className:"inline-block mr-2 text-indigo-500 mb-0.5"}),"Your Comment"]}),e.jsx("textarea",{placeholder:"Write your feedback...",value:d,onChange:s=>u(s.target.value),className:"w-full p-3 h-28 text-sm border border-gray-200 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-indigo-400 transition"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-600 text-sm font-medium mb-2 block",children:"Rating"}),e.jsx("div",{className:"flex items-center space-x-1",children:[...Array(5)].map((s,a)=>{const t=a+1;return e.jsx("button",{type:"button",onClick:()=>x(t),onMouseEnter:()=>g(t),onMouseLeave:()=>g(null),className:"focus:outline-none",children:e.jsx(C,{size:28,className:`transition-all ${t<=(f||o)?"fill-yellow-400 text-yellow-400 drop-shadow-sm":"text-gray-300"}`})},t)})})]}),e.jsx("button",{type:"submit",className:"w-full py-3 cursor-pointer bg-indigo-500 text-white text-sm rounded-lg font-medium hover:bg-indigo-600 transition shadow-sm",children:"Submit Review"})]})]})]})}export{E as default};
