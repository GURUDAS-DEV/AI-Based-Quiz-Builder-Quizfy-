import{j as e,u as y,a as k,r as a}from"./index-h_fRO0Hs.js";import{I as q}from"./index-BUsAA71c.js";import{S as Y}from"./Slogan-BFXXZTf2.js";const W="/assets/bell-B6TGxmbr.png",Z=r=>e.jsx("div",{children:e.jsxs("div",{className:`absolute z-10 transition-all  bg-white rounded-lg top-9 p-3 -left-[240px] sm:-left-[330px] ${r.display?"block":"hidden"}`,style:{boxShadow:"0 2px 8px rgba(0, 0, 0, 0.4)"},children:[e.jsx("div",{children:e.jsx("div",{className:" pl-2",children:e.jsx("h1",{className:"text-lg   font-Outfit text-gray-800",children:"Notifications"})})}),e.jsx("div",{className:"",children:e.jsxs("div",{className:"font-Outfit mt-10 mb-10 w-80 flex flex-col justify-center items-center",children:[e.jsx("p",{className:"font-bold text-xs ",children:"Nothing to Caught Up for now"}),e.jsx("p",{className:"text-xs",children:"You don't have any notifications."})]})})]})}),G=r=>{const{userName:l,email:d,logout:c}=y(),i=k(),o=async()=>{try{(await fetch("https://quizidy-backend.duckdns.org/user/Logout",{method:"POST",credentials:"include"})).ok&&(localStorage.removeItem("accessToken"),await c(),i("/"))}catch(m){console.error("Logout failed",m)}};return e.jsx("div",{className:`absolute z-10 transition-all  top-9 -left-52 border pt-4 pb-4 pr-2 pl-2 border-white rounded-sm  bg-white ${r.display?"block":"hidden"}`,style:{boxShadow:"0 2px 8px rgba(0, 0, 0, 0.4)"},children:e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex flex-col w-full pl-2",children:[e.jsx("p",{className:"font-Outfit text-sm ",children:l}),e.jsx("p",{className:"font-Outfit text-xs text-gray-500",children:d})]}),e.jsxs("div",{className:"pt-4 w-52 pb-4 flex flex-col mt-3 pl-4 rounded-xl",style:{backgroundColor:"#e4f4e7"},children:[e.jsx("div",{className:"flex flex-col ",children:e.jsx("div",{className:"text-gray-900 text-[12px] font-Outfit",children:"Ready for unlimited participants, exporting results and much more?"})}),e.jsx("div",{className:"w-full flex justify-end",children:e.jsx("button",{className:"pt-1 pb-1 pl-4 pr-4 mr-3 text-white text-xs mt-2 bg-green-800 hover:bg-green-900 cursor-pointer transition-all rounded-2xl font-Outfit",children:"Upgrade"})})]}),e.jsxs("div",{className:"flex gap-2 cursor-pointer flex-col mt-5",children:[e.jsx("button",{onClick:()=>{r.setSettingState(!0),r.onClose()},className:"text-sm w-full flex justify-start hover:bg-gray-100 rounded-sm cursor-pointer p-1 font-Outfit pl-2",children:e.jsx("p",{children:"Account Settings"})}),e.jsx("div",{onClick:()=>i("/Billing"),className:"text-sm   hover:bg-gray-100 rounded-sm cursor-pointer p-1 font-Outfit pl-2",children:e.jsx("p",{children:"Billing"})}),e.jsx("div",{className:"text-sm   hover:bg-gray-100 rounded-sm cursor-pointer p-1 font-Outfit pl-2",children:e.jsx("p",{children:"Workspace setting"})}),e.jsx("div",{onClick:o,className:"text-sm  hover:bg-gray-100 rounded-sm cursor-pointer p-1  text-red-700 font-Outfit pl-2",children:e.jsx("p",{children:"Log out"})})]})]})})},w="/assets/user_one-CYh54X37.png",H=({display:r,onClose:l})=>{const d=async()=>{const c=localStorage.getItem("accessToken"),i=await fetch("http://192.168.29.150:9000/user/DeleteUser",{method:"DELETE",headers:{Authorization:`Bearer ${c}`},credentials:"include"}),o=await i.json();i.ok||console.log(o),console.log(o),localStorage.removeItem("accessToken"),window.location.href="/"};return e.jsxs("div",{children:[e.jsx("button",{className:"rounded-md bg-gray-950/5 px-2.5 py-1.5 text-sm font-semibold text-gray-900 hover:bg-gray-950/10",children:"Open dialog"}),e.jsxs("div",{"aria-modal":"true","aria-labelledby":"dialog-title",className:"relative z-10",children:[e.jsx("div",{"aria-hidden":"true",className:"fixed inset-0 bg-stone-900/75 transition-opacity"}),e.jsx("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:e.jsxs("div",{className:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg",children:[e.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:e.jsxs("div",{className:"sm:flex sm:items-start",children:[e.jsx("div",{className:"mx-auto flex size-12 shrink-0 items-center justify-center rounded-full bg-red-100 sm:mx-0 sm:size-10",children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5","data-slot":"icon","aria-hidden":"true",className:"size-6 text-red-600",children:e.jsx("path",{d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z",strokeLinecap:"round",strokeLinejoin:"round"})})}),e.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[e.jsx("h3",{id:"dialog-title",className:"text-base font-semibold text-gray-900",children:"Delete account"}),e.jsx("div",{className:"mt-2",children:e.jsx("p",{className:"text-sm text-gray-500",children:"Are you sure you want to Delete your account? All of your data will be permanently removed. This action cannot be undone."})})]})]})}),e.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6",children:[e.jsx("button",{type:"button",className:"cursor-pointer inline-flex w-full justify-center rounded-md bg-red-600 px-3 py-2 text-sm font-semibold text-white shadow-xs hover:bg-red-500 sm:ml-3 sm:w-auto",onClick:d,children:"Delete"}),e.jsx("button",{type:"button",className:"cursor-pointer mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-xs ring-1 ring-gray-300 ring-inset hover:bg-gray-50 sm:mt-0 sm:w-auto",onClick:()=>l(),children:"Cancel"})]})]})})})]})]})},K=({onClose:r})=>{const[l,d]=a.useState(!1),[c,i]=a.useState(50),[o,m]=a.useState(""),C=k(),{userName:b,logout:S,refreshToken:T}=y(),[P,x]=a.useState(""),[D,u]=a.useState(!1),[O,n]=a.useState(!1),[h,j]=a.useState(""),[p,v]=a.useState(""),[g,N]=a.useState(""),[z,L]=a.useState(!1),[A,U]=a.useState(!1),[f,E]=a.useState(""),B=async()=>{try{(await fetch("https://quizidy-backend.duckdns.org/user/Logout",{method:"POST",credentials:"include"})).ok&&(localStorage.removeItem("accessToken"),await S(),C("/"))}catch(s){console.error("Logout failed",s)}};function M(s){const t=s.target.value;t.length<=50&&(m(t),i(50-t.length))}const $=async()=>{const s=await fetch("https://quizidy-backend.duckdns.org/user/UpdateName",{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("accessToken")}`},body:JSON.stringify({name:o})}),t=await s.json();if(!s.ok){x(t.Message),n(!0),u(!1),setTimeout(()=>{n(!1)},2e3),console.log(t);return}localStorage.setItem("accessToken",t.accessToken),await T(),x(t.Message),u(!0),n(!0),L(!z),m(""),setTimeout(()=>{n(!1)},3e3)},I=async()=>{const s=await fetch("https://quizidy-backend.duckdns.org/user/UpdatePassword",{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("accessToken")}`},body:JSON.stringify({currentPassword:h,newPassword:p,confirmPassword:g})}),t=await s.json();if(!s.ok){x(t.Message),n(!0),u(!1),setTimeout(()=>{n(!1)},2e3),console.log(t);return}x(t.Message),u(!0),n(!0),U(!A),j(""),v(""),N(""),setTimeout(()=>{n(!1)},3e3)};return e.jsx("div",{className:"fixed inset-0 h-screen z-[100] flex items-center justify-center",children:e.jsxs("div",{className:"bg-white w-[95%] h-[600px] md:w-3/4 lg:w-2/3 rounded-2xl shadow-xl overflow-hidden font-Outfit",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-stone-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-stone-100 flex items-center justify-center border border-stone-200",children:e.jsx("img",{src:w,alt:"avatar",className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-stone-800",children:"Account settings"}),e.jsx("p",{className:"text-xs text-stone-400",children:"Manage your profile, password and security"})]})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("button",{onClick:r,"aria-label":"Close settings",className:"p-2 rounded-md hover:bg-stone-200 cursor-pointer",children:e.jsx(q,{className:"text-stone-700"})})})]}),e.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"col-span-1 flex flex-col gap-4",children:[e.jsx("div",{className:"bg-white border border-stone-100 rounded-lg p-4 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-indigo-50 flex items-center justify-center border border-indigo-100",children:e.jsx("img",{src:w,alt:"avatar",className:"w-8 h-8"})}),e.jsxs("div",{className:"cursor-pointer",children:[e.jsx("div",{className:"text-sm font-medium text-stone-800",children:b}),e.jsxs("div",{className:"text-xs text-stone-400",children:["@",b.split(" ")[0]?.toLowerCase()]})]})]})}),e.jsxs("div",{className:"bg-white border border-stone-100 rounded-lg p-4 shadow-sm text-sm text-stone-600",children:[e.jsx("div",{className:"mb-2 font-medium text-stone-800",children:"Account"}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Email"}),e.jsx("span",{className:"text-xs bg-stone-100 px-2 py-1 rounded-full text-stone-500",children:"Unverified"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Member since"}),e.jsx("span",{className:"text-xs text-stone-500",children:"â€”"})]})]})]})]}),e.jsxs("div",{className:"col-span-2 flex h-[500px] pb-8 overflow-auto flex-col gap-4",children:[e.jsxs("div",{className:"bg-white border border-stone-100 rounded-lg p-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-stone-800",children:"Display name"}),e.jsx("div",{className:"text-xs text-stone-400",children:"Your public display name"})]}),e.jsxs("div",{className:"text-xs text-stone-400",children:["Chars left: ",c]})]}),e.jsxs("div",{className:"mt-3 flex gap-3 items-center",children:[e.jsx("input",{value:o,onChange:M,placeholder:"Enter display name",className:"flex-1 px-3 py-2 border border-stone-200 rounded-md focus:border-indigo-400 focus:ring-1 focus:ring-indigo-100 text-sm bg-stone-100 focus:bg-white transition-colors duration-150 cursor-text","aria-label":"Display name"}),e.jsx("button",{onClick:$,className:`cursor-pointer px-4 py-2 rounded-md text-sm transition-colors duration-150 ${o.trim().length?"bg-indigo-500 text-white hover:bg-indigo-600":"bg-stone-200 text-stone-600 cursor-not-allowed"}`,"aria-disabled":!o.trim().length,children:"Save"})]})]}),e.jsxs("div",{className:"bg-white border border-stone-100 rounded-lg p-4 shadow-sm",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-stone-800",children:"Change password"}),e.jsx("div",{className:"text-xs text-stone-400",children:"Keep your account secure"})]})}),e.jsxs("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsx("input",{value:h,onChange:s=>j(s.target.value),placeholder:"Current password",className:"px-3 py-2 border border-stone-200 rounded-md bg-stone-100 text-sm focus:bg-white focus:border-indigo-400 transition-colors duration-150","aria-label":"Current password"}),e.jsx("input",{value:p,onChange:s=>v(s.target.value),placeholder:"New password",className:"px-3 py-2 border border-stone-200 rounded-md bg-stone-100 text-sm focus:bg-white focus:border-indigo-400 transition-colors duration-150","aria-label":"New password"}),e.jsx("input",{value:g,onChange:s=>N(s.target.value),placeholder:"Confirm password",className:"px-3 py-2 border border-stone-200 rounded-md bg-stone-100 text-sm focus:bg-white focus:border-indigo-400 transition-colors duration-150","aria-label":"Confirm password"})]}),e.jsx("div",{className:"mt-3",children:e.jsx("button",{onClick:I,className:`cursor-pointer px-4 py-2 rounded-md text-sm transition-colors duration-150 ${p&&g&&h?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-stone-200 text-stone-600 cursor-not-allowed"}`,"aria-disabled":!(p&&g&&h),children:"Update password"})})]}),e.jsxs("div",{className:"bg-white border border-stone-100 rounded-lg p-4 shadow-sm",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-stone-800",children:"Verify Your Account"}),e.jsx("div",{className:"text-xs text-stone-400",children:"By Verifying, you can later recover your account."})]})}),e.jsx("div",{className:"mt-3 grid grid-cols-1 pr-10",children:e.jsx("input",{value:f,onChange:s=>E(s.target.value),placeholder:"Enter you Email",className:"px-3 py-2 border border-stone-200 rounded-md bg-stone-100 text-sm focus:bg-white focus:border-indigo-400 transition-colors duration-150","aria-label":"Email"})}),e.jsx("div",{className:"mt-3",children:e.jsx("button",{className:`cursor-pointer px-4 py-2 rounded-md text-sm transition-colors duration-150 ${f.includes("@gmail.com")||f.includes("@email.com")?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-stone-200 text-stone-600 cursor-not-allowed"}`,"aria-disabled":!f,children:"Send verification email"})})]}),e.jsxs("div",{className:"flex gap-3 items-center",children:[e.jsx("button",{onClick:()=>d(!0),className:"px-4 py-2 bg-red-600 text-white rounded-md text-sm cursor-pointer",children:"Delete account"}),e.jsx("button",{onClick:B,className:"px-4 py-2 bg-indigo-400 text-white rounded-md text-sm cursor-pointer",children:"Log out"})]})]})]}),e.jsx("div",{className:"p-4 border-t border-stone-100 text-sm text-stone-500",children:"Manage your personal information and security settings here."}),e.jsx("div",{className:`w-screen h-screen  fixed ${l?"opacity-100 pointer-events-auto":"opacity-0  pointer-events-none"} transition-all duration-300 ease-in-out w-screen z-[10000] top-0 left-0`,children:e.jsx(H,{display:l,onClose:()=>{d(!1)}})}),e.jsx("div",{className:`fixed ${O?"opacity-100 translate-y-0 pointer-events-auto":"opacity-0 -translate-y-3 pointer-events-none"} transition-all duration-300 ease-in-out w-screen z-[10000] top-[80%] left-[40%]`,children:e.jsx(Y,{status:D,details:P})})]})})};export{K as A,W as B,Z as N,G as P,w as u};
